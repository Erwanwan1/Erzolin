{"remainingRequest":"C:\\Users\\coren\\OneDrive\\Documents\\Cours\\Projets\\Erzolin\\application-vue\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\coren\\OneDrive\\Documents\\Cours\\Projets\\Erzolin\\application-vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\coren\\OneDrive\\Documents\\Cours\\Projets\\Erzolin\\application-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\coren\\OneDrive\\Documents\\Cours\\Projets\\Erzolin\\application-vue\\src\\views\\Profil.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\coren\\OneDrive\\Documents\\Cours\\Projets\\Erzolin\\application-vue\\src\\views\\Profil.vue","mtime":1624448060577},{"path":"C:\\Users\\coren\\OneDrive\\Documents\\Cours\\Projets\\Erzolin\\application-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1624352196012},{"path":"C:\\Users\\coren\\OneDrive\\Documents\\Cours\\Projets\\Erzolin\\application-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1624352193543},{"path":"C:\\Users\\coren\\OneDrive\\Documents\\Cours\\Projets\\Erzolin\\application-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1624352196012},{"path":"C:\\Users\\coren\\OneDrive\\Documents\\Cours\\Projets\\Erzolin\\application-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1624352240540}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBjdXN0b21IZWFkZXIgZnJvbSAnLi4vY29tcG9uZW50cy9DdXN0b21IZWFkZXIudnVlJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdQcm9maWwnLAogIGNvbXBvbmVudHM6IHsKICAgIGN1c3RvbUhlYWRlcjogY3VzdG9tSGVhZGVyCiAgfSwKICAkX3ZlZVZhbGlkYXRlOiB7CiAgICB2YWxpZGF0b3I6ICduZXcnCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcGFzc3dvcmQ6ICcnLAogICAgICBjb25maXJtUGFzc3dvcmQ6ICcnLAogICAgICBzaG93MTogZmFsc2UsCiAgICAgIHNob3cyOiBmYWxzZSwKICAgICAgYWxlcnQ6IGZhbHNlLAogICAgICBlcnJvcjogZmFsc2UsCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgcmVxdWlyZWQ6IGZ1bmN0aW9uIHJlcXVpcmVkKHZhbHVlKSB7CiAgICAgICAgICByZXR1cm4gISF2YWx1ZSB8fCAnUmVxdWlyZWQuJzsKICAgICAgICB9LAogICAgICAgIG1pbjogZnVuY3Rpb24gbWluKHYpIHsKICAgICAgICAgIHJldHVybiB2Lmxlbmd0aCA+PSA4IHx8ICdNaW4gOCBjaGFyYWN0ZXJzJzsKICAgICAgICB9LAogICAgICAgIGVtYWlsTWF0Y2g6IGZ1bmN0aW9uIGVtYWlsTWF0Y2goKSB7CiAgICAgICAgICByZXR1cm4gJ0xlcyBtb3RzIGRlIHBhc3NlcyBzb250IGRpZmbDqXJlbnRzJzsKICAgICAgICB9CiAgICAgIH0KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRVdGlsaXNhdGV1cjogZnVuY3Rpb24gZ2V0VXRpbGlzYXRldXIoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBmZXRjaCgnaHR0cDovLzEwLjExNi4yMS41ODo4MDgwL2FwaS9wcm9maWwvJyArIHRoaXMuJHN0b3JlLnN0YXRlLnV0aWxpc2F0ZXVyLnV0aUlkLmlkLCB7CiAgICAgICAgbWV0aG9kOiAnR0VUJywKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICByZXR1cm4gX3RoaXMudXRpbGlzYXRldXIgPSBkYXRhOwogICAgICB9KTsKICAgIH0sCiAgICB2YWxpZGF0ZTogZnVuY3Rpb24gdmFsaWRhdGUoKSB7CiAgICAgIHRoaXMuZXJyb3IgPSBmYWxzZTsKCiAgICAgIGlmICh0aGlzLnBhc3N3b3JkLmxlbmd0aCA+IDcgJiYgdGhpcy5wYXNzd29yZCA9PT0gdGhpcy5jb25maXJtUGFzc3dvcmQpIHsKICAgICAgICB0aGlzLmNvbmZpcm0oKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmVycm9yID0gdHJ1ZTsKICAgICAgfQogICAgfSwKICAgIGNvbmZpcm06IGZ1bmN0aW9uIGNvbmZpcm0oKSB7CiAgICAgIHRoaXMuYWxlcnQgPSBmYWxzZTsKICAgICAgZmV0Y2goJ2h0dHA6Ly8xMC4xMTYuMjEuNTg6ODA4MC9hcGkvcHJvZmlsLycsIHsKICAgICAgICBtZXRob2Q6ICdQT1NUJywKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nCiAgICAgICAgfSwKICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgICBpZDogdGhpcy4kc3RvcmUuc3RhdGUudXRpbGlzYXRldXIudXRpSWQuaWQsCiAgICAgICAgICBlbWFpbDogdGhpcy4kc3RvcmUuc3RhdGUudXRpbGlzYXRldXIudXRpSWQuZW1haWwsCiAgICAgICAgICBtZHA6IHRoaXMucGFzc3dvcmQKICAgICAgICB9KQogICAgICB9KTsKICAgICAgdGhpcy5hbGVydCA9IHRydWU7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgaWYgKHRoaXMuJHN0b3JlLnN0YXRlLmlzQ29ubmVjdGVkKSB7CiAgICAgIHRoaXMuZ2V0VXRpbGlzYXRldXIoKTsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvJyk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Profil.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8EA,OAAA,YAAA,MAAA,gCAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,QADA;AAGA,EAAA,UAAA,EAAA;AACA,IAAA,YAAA,EAAA;AADA,GAHA;AAMA,EAAA,aAAA,EAAA;AACA,IAAA,SAAA,EAAA;AADA,GANA;AASA,EAAA,IAAA,EAAA;AAAA,WAAA;AACA,MAAA,QAAA,EAAA,EADA;AAEA,MAAA,eAAA,EAAA,EAFA;AAGA,MAAA,KAAA,EAAA,KAHA;AAIA,MAAA,KAAA,EAAA,KAJA;AAKA,MAAA,KAAA,EAAA,KALA;AAMA,MAAA,KAAA,EAAA,KANA;AAOA,MAAA,KAAA,EAAA;AACA,QAAA,QAAA,EAAA,kBAAA,KAAA;AAAA,iBAAA,CAAA,CAAA,KAAA,IAAA,WAAA;AAAA,SADA;AAEA,QAAA,GAAA,EAAA,aAAA,CAAA;AAAA,iBAAA,CAAA,CAAA,MAAA,IAAA,CAAA,IAAA,kBAAA;AAAA,SAFA;AAGA,QAAA,UAAA,EAAA;AAAA,iBAAA,oCAAA;AAAA;AAHA;AAPA,KAAA;AAAA,GATA;AAuBA,EAAA,OAAA,EAAA;AACA,IAAA,cADA,4BACA;AAAA;;AACA,MAAA,KAAA,CAAA,yCAAA,KAAA,MAAA,CAAA,KAAA,CAAA,WAAA,CAAA,KAAA,CAAA,EAAA,EACA;AACA,QAAA,MAAA,EAAA,KADA;AAEA,QAAA,OAAA,EAAA;AACA,0BAAA;AADA;AAFA,OADA,CAAA,CAMA,IANA,CAMA,UAAA,QAAA;AAAA,eAAA,QAAA,CAAA,IAAA,EAAA;AAAA,OANA,EAOA,IAPA,CAOA,UAAA,IAAA;AAAA,eAAA,KAAA,CAAA,WAAA,GAAA,IAAA;AAAA,OAPA;AAQA,KAVA;AAWA,IAAA,QAXA,sBAWA;AACA,WAAA,KAAA,GAAA,KAAA;;AACA,UAAA,KAAA,QAAA,CAAA,MAAA,GAAA,CAAA,IAAA,KAAA,QAAA,KAAA,KAAA,eAAA,EAAA;AACA,aAAA,OAAA;AACA,OAFA,MAEA;AACA,aAAA,KAAA,GAAA,IAAA;AACA;AACA,KAlBA;AAmBA,IAAA,OAnBA,qBAmBA;AACA,WAAA,KAAA,GAAA,KAAA;AACA,MAAA,KAAA,CAAA,sCAAA,EACA;AACA,QAAA,MAAA,EAAA,MADA;AAEA,QAAA,OAAA,EAAA;AACA,0BAAA;AADA,SAFA;AAKA,QAAA,IAAA,EAAA,IAAA,CAAA,SAAA,CAAA;AACA,UAAA,EAAA,EAAA,KAAA,MAAA,CAAA,KAAA,CAAA,WAAA,CAAA,KAAA,CAAA,EADA;AAEA,UAAA,KAAA,EAAA,KAAA,MAAA,CAAA,KAAA,CAAA,WAAA,CAAA,KAAA,CAAA,KAFA;AAGA,UAAA,GAAA,EAAA,KAAA;AAHA,SAAA;AALA,OADA,CAAA;AAaA,WAAA,KAAA,GAAA,IAAA;AACA;AAnCA,GAvBA;AA4DA,EAAA,OA5DA,qBA4DA;AACA,QAAA,KAAA,MAAA,CAAA,KAAA,CAAA,WAAA,EAAA;AACA,WAAA,cAAA;AACA,KAFA,MAEA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,GAAA;AACA;AACA;AAlEA,CAAA","sourcesContent":["<template>\r\n  <v-app>\r\n    <div>\r\n      <customHeader title='Profil'></customHeader>\r\n      <v-container>\r\n        <v-card>\r\n          <v-alert\r\n          :value=\"alert\"\r\n          type=\"success\"\r\n          dismissible\r\n          transition=\"scale-transition\"\r\n        >\r\n          L'utilisateur a été modifié avec succès !\r\n        </v-alert>\r\n        <v-alert\r\n          :value=\"error\"\r\n          type=\"error\"\r\n          dismissible\r\n          transition=\"scale-transition\"\r\n        >\r\n          Les mots de passe sont différents ou mauvais !\r\n        </v-alert>\r\n          <v-row\r\n          justify=\"center\"\r\n          >\r\n            <v-col\r\n            cols=\"12\"\r\n            sm=\"10\"\r\n            md=\"8\"\r\n            lg=\"6\"\r\n            >\r\n              <v-text-field\r\n              label=\"Email\"\r\n              outlined\r\n              color=\"#cf2084\"\r\n              v-model=\"$store.state.utilisateur.utiId.email\"\r\n              ></v-text-field>\r\n              <v-text-field\r\n                v-model=\"password\"\r\n                :append-icon=\"show1 ? 'mdi-eye' : 'mdi-eye-off'\"\r\n                :rules=\"[rules.required, rules.min]\"\r\n                :type=\"show1 ? 'text' : 'password'\"\r\n                name=\"input-10-1\"\r\n                label=\"Nouveau mot de passe\"\r\n                hint=\"Au moins 8 caracteres\"\r\n                color=\"#cf2084\"\r\n                counter\r\n                @click:append=\"show1 = !show1\"\r\n              ></v-text-field>\r\n              <v-text-field\r\n                v-model=\"confirmPassword\"\r\n                :append-icon=\"show2 ? 'mdi-eye' : 'mdi-eye-off'\"\r\n                :rules=\"[rules.required, rules.min]\"\r\n                :type=\"show2 ? 'text' : 'password'\"\r\n                name=\"input-10-1\"\r\n                label=\"Comfirmation du mot de passe\"\r\n                hint=\"Au moins 8 caracteres\"\r\n                color=\"#cf2084\"\r\n                counter\r\n                @click:append=\"show2 = !show2\"\r\n              ></v-text-field>\r\n              <v-btn\r\n              color=\"#cf2084\"\r\n              dark\r\n              class=\"mb-2\"\r\n              @click=\"validate()\"\r\n              >\r\n                Confirmer\r\n              </v-btn>\r\n            </v-col>\r\n          </v-row>\r\n        </v-card>\r\n      </v-container>\r\n    </div>\r\n  </v-app>\r\n</template>\r\n\r\n<script>\r\nimport customHeader from '../components/CustomHeader.vue'\r\n\r\nexport default {\r\n  name: 'Profil',\r\n\r\n  components: {\r\n    customHeader\r\n  },\r\n  $_veeValidate: {\r\n    validator: 'new'\r\n  },\r\n  data: () => ({\r\n    password: '',\r\n    confirmPassword: '',\r\n    show1: false,\r\n    show2: false,\r\n    alert: false,\r\n    error: false,\r\n    rules: {\r\n      required: value => !!value || 'Required.',\r\n      min: v => v.length >= 8 || 'Min 8 characters',\r\n      emailMatch: () => ('Les mots de passes sont différents')\r\n    }\r\n  }),\r\n\r\n  methods: {\r\n    getUtilisateur () {\r\n      fetch('http://10.116.21.58:8080/api/profil/' + this.$store.state.utilisateur.utiId.id,\r\n        {\r\n          method: 'GET',\r\n          headers: {\r\n            'Content-Type': 'application/json'\r\n          }\r\n        }).then(response => response.json())\r\n        .then(data => (this.utilisateur = data))\r\n    },\r\n    validate () {\r\n      this.error = false\r\n      if (this.password.length > 7 && this.password === this.confirmPassword) {\r\n        this.confirm()\r\n      } else {\r\n        this.error = true\r\n      }\r\n    },\r\n    confirm () {\r\n      this.alert = false\r\n      fetch('http://10.116.21.58:8080/api/profil/',\r\n        {\r\n          method: 'POST',\r\n          headers: {\r\n            'Content-Type': 'application/json'\r\n          },\r\n          body: JSON.stringify({\r\n            id: this.$store.state.utilisateur.utiId.id,\r\n            email: this.$store.state.utilisateur.utiId.email,\r\n            mdp: this.password\r\n          })\r\n        }\r\n      )\r\n      this.alert = true\r\n    }\r\n  },\r\n  mounted () {\r\n    if (this.$store.state.isConnected) {\r\n      this.getUtilisateur()\r\n    } else {\r\n      this.$router.push('/')\r\n    }\r\n  }\r\n}\r\n</script>\r\n"],"sourceRoot":"src/views"}]}